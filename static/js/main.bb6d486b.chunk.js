(this["webpackJsonplegends-cards"]=this["webpackJsonplegends-cards"]||[]).push([[0],{1:function(e,a,t){e.exports={card:"Card_card__1QXam",imageWrapper:"Card_imageWrapper__4GP5y",image:"Card_image__1ZRtp",properties:"Card_properties__2HwY1",property:"Card_property__RQghZ",title:"Card_title__32Ewi",value:"Card_value__dx8oS"}},11:function(e,a,t){e.exports={app:"App_app__3zMx-"}},16:function(e,a,t){e.exports=t(37)},2:function(e,a,t){e.exports={wrapper:"Cards_wrapper__3sC-z",cards:"Cards_cards__1syr9",noResults:"Cards_noResults__2gp3t",loading:"Cards_loading__2jJfU",spinner:"Cards_spinner__mg2dQ",spin:"Cards_spin__38mws",visibilitySensor:"Cards_visibilitySensor__RI9vq"}},21:function(e,a,t){},37:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(7),s=t.n(c),l=(t(21),t(11)),i=t.n(l),o=t(8),u=t.n(o),d=t(15),m=t(12),p=t(3),_=t(2),v=t.n(_),f=t(5),g=t.n(f),h=t(13),E=t.n(h),b=t(14),N=t.n(b),C=t(1),x=t.n(C),S=function(e){var a=e.card;if(!a)return null;function t(e,a){return n.a.createElement("div",{className:x.a.property},n.a.createElement("div",{className:x.a.title},e),n.a.createElement("div",{className:x.a.value},a||"(No ".concat(e,")")))}return n.a.createElement("div",{className:x.a.card},n.a.createElement("div",{className:x.a.imageWrapper},n.a.createElement("img",{className:x.a.image,alt:"".concat(a.name," card"),src:a.imageUrl})),n.a.createElement("div",{className:x.a.properties},t("Name",a.name),t("Text",a.text),t("Set Name",g.a.get(a.set,"name")),t("Type",a.type)))},j=n.a.createContext({search:"",setSearch:function(){}}),w=function(e){var a=e.children,t=Object(r.useState)(""),c=Object(p.a)(t,2),s=c[0],l=c[1];return n.a.createElement(j.Provider,{value:{search:s,setSearch:l}},a)},y="https://api.elderscrollslegends.io/v1/cards",O=function(){var e=Object(r.useContext)(j).search,a=Object(r.useState)(!1),t=Object(p.a)(a,2),c=t[0],s=t[1],l=Object(r.useState)([]),i=Object(p.a)(l,2),o=i[0],_=i[1],f=Object(r.useState)(!1),h=Object(p.a)(f,2),b=h[0],C=h[1],x=Object(r.useRef)(1),w=Object(r.useRef)(null);function O(){return k.apply(this,arguments)}function k(){return(k=Object(m.a)(u.a.mark((function a(){var t,r,n,c;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if((t=E.a.stringify(Object(d.a)({page:x.current,pageSize:20},e&&{name:e})))!==w.current){a.next=4;break}return console.log("params are the same"),a.abrupt("return");case 4:return w.current=t,1===x.current&&(console.log("clearing cards"),_([])),s(!0),a.prev=7,a.next=10,fetch("".concat(y,"?").concat(t));case 10:if(r=a.sent,t===w.current){a.next=13;break}return a.abrupt("return");case 13:return a.next=15,r.json();case 15:n=a.sent,c=g.a.get(n,"cards"),1===x.current?_(c):_(o.concat(c)),C(Boolean(g.a.get(n,["_links","next"]))),a.next=25;break;case 21:a.prev=21,a.t0=a.catch(7),_([]),C(!1);case 25:s(!1);case 26:case"end":return a.stop()}}),a,null,[[7,21]])})))).apply(this,arguments)}Object(r.useEffect)((function(){x.current=1,O()}),[e]);var H=o.map((function(e){return n.a.createElement(S,{card:e,key:e.id})}));return n.a.createElement("div",{className:v.a.wrapper},n.a.createElement("div",{className:v.a.cards},!c&&!o.length&&n.a.createElement("div",{className:v.a.noResults},"No results."),H),b&&!c&&n.a.createElement(N.a,{onChange:function(e){e&&!c&&(x.current=x.current+1,O())}},n.a.createElement("div",{className:v.a.visibilitySensor},"Sensor")),(c||b)&&n.a.createElement("div",{className:v.a.loading},n.a.createElement("div",{className:v.a.spinner})))},k=t(4),H=t.n(k),R=function(){return n.a.createElement("header",{className:H.a.Header},n.a.createElement("div",null,n.a.createElement("div",{className:H.a.title},"Elder Scross: Legends\u2122"),n.a.createElement("div",{className:H.a.subTitle},"Card Database")),n.a.createElement("div",{className:H.a.filters},n.a.createElement(j.Consumer,null,(function(e){var a=e.search,t=e.setSearch;return n.a.createElement("input",{className:H.a.searchInput,onChange:function(e){return t(e.target.value)},placeholder:"Search",value:a})}))))},W=function(){return n.a.createElement(w,null,n.a.createElement("div",{className:i.a.app},n.a.createElement(R,null),n.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,a,t){e.exports={Header:"Header_Header__206OW",title:"Header_title__2qdds",subTitle:"Header_subTitle__20eYL",filters:"Header_filters__3N7W4",searchInput:"Header_searchInput__2kJGk"}}},[[16,1,2]]]);
//# sourceMappingURL=main.bb6d486b.chunk.js.map